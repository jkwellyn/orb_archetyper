<%= partial('_tasks_report.erb')%>
require 'rspec/core/rake_task'
require 'test_support/tasks/task_helpers'

def build_rake_task(task_name)
  RSpec::Core::RakeTask.new(task_name.to_sym) do |task|
    TestSupport::Tasks::TaskHelpers.build_rspec_opts(task_name, task)
    task.pattern = "spec/accept/#{task_name}/**/*_spec.rb"
  end
end

namespace :spec do
<% test_types.each do |test_type| -%>
  build_rake_task('<%= test_type %>')
<% end -%>

  RSpec::Core::RakeTask.new(full: <%= spec_tasks %>)
end
